<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<installation xmlns:izpack="http://izpack.org/schema/installation"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              version="5.0"
              xsi:schemaLocation="http://izpack.org/schema/installation http://izpack.org/schema/5.0/izpack-installation-5.0.xsd">
>
  <info>
    <appname>SeaDAS IzPack Installer</appname>
    <appversion>1.0.0</appversion>
    <url>https://seadas.gsfc.nasa.gov</url>
    <authors>
        <author name="Aynur Abdurazik" email="aynur.abdurazik@nasa.gov"/>
    </authors>
  </info>

  <guiprefs width="800" height="600" resizable="yes">
    <laf name="looks">
      <os family="unix"/>
      <param name="variant" value="mist-aqua"/>
    </laf>
    <laf name="looks">
      <os family="windows"/>
      <param name="variant" value="extwin"/>
    </laf>
    <laf name="substance">
      <os family="mac"/>
      <param name="variant" value="mist-aqua"/>
    </laf>
    <modifier key="useHeadingPanel" value="yes"/>
    <modifier key="useButtonIcons" value="yes"/>
    <modifier key="useLabelIcons" value="no"/>
    <modifier key="labelGap" value="2"/>
    <modifier key="layoutAnchor" value="NORTHWEST"/>
    <modifier key="headingImageOnLeft" value="yes"/>
    <modifier key="headingLineCount" value="1"/>
    <modifier key="headingFontSize" value="1.5"/>
    <modifier key="headingBackgroundColor" value="0x00ffffff"/>
    <modifier key="headingPanelCounter" value="progressbar"/>
    <modifier key="headingPanelCounterPos" value="inNavigationPanel"/>
  </guiprefs>

  <locale>
    <langpack iso3="eng"/>
  </locale>


  <resources>
    <res id="HTMLLicencePanel.licence" src="legal/seadas_license.html"/>
    <res id="HTMLInfoPanel.info" src="about/readme.html"/>
    <res id="HTMLHelloPanel.welcome" src="about/welcome.html"/>
    <res id="HTMLInfoPanel.welcome" src="about/welcome.html"/>
    <res id="TargetPanel.dir.windows" src="resources/TargetDirWindows.txt"/>
    <res id="TargetPanel.dir.unix" src="resources/TargetDirUnix.txt"/>
    <res id="TargetPanel.dir.ubuntu_linux" src="resources/TargetDirUnix.txt"/>
    <res id="SeaDASLogo" src="images/seadas-icon-128.png"/>
    <res id="Installer.image" src="images/seadas-installer.png"/>
    <res id="Splash.image" src="images/seadas-installer.png"/>
    <res id="shortcutSpecLinux.xml" src="resources/shortcutSpecLinux.xml"/>
    <res id="userInputSpec.xml" src="resources/userInputSpec.xml"/>
    <res id="ProcessPanel.Spec.xml" src="resources/processPanelSpec.xml"/>
    <res id="FinishPanel.finish" src="about/finish.html"/>
  </resources>
  <variables>
    <variable name="INSTALL_PATH" value="$USER_HOME"/>
    <variable name="app.name" value="@{appname}"/>
    <variable name="RESOURCEROOT" value="src/main/izpack"/>
    <variable name="InstallerFrame.logfilePath" value="Default"/>
    <variable name="WELCOME_TEXT" value="SeaDAS IzPack Installer"/>
    <variable name="WELCOME_VERSION" value="Version: 1"/>
    <variable name="FINISH_TEXT" value="SeaDAS-8 is successfuly installed. Enjoy!"/>
<!--    <variable name="TargetPanel.dir.windows" value="C:/SeaDAS"/>-->
<!--    <variable name="TargetPanel.dir.ubuntu_linux" value="usr/local/seadas"/>-->
    <variable name="DesktopShortcutCheckboxEnabled" value="true"/>
    <variable name="ceresContext" value="seadas"/>
    <variable name="seadasDebug" value="false"/>
    <variable name="maxHeapSize" value="2048M"/>
    <variable name="installer:maxHeapSize" value="2048M"/>
    <variable name="DesktopShortcutCheckboxEnabled" value="true"/>
    <variable name="runSeaDASAfterInstall" value="${runSeaDASAfterInstall}"/>
  </variables>

  <conditions>
    <condition type="variable" id="standardinstallation">
      <name>setup.type</name>
      <value>standard</value>
    </condition>
    <condition type="variable" id="expertinstallation">
      <name>setup.type</name>
      <value>expert</value>
    </condition>
    <condition type="java" id="installonwindows">
      <java>
        <class>com.izforge.izpack.util.OsVersion</class>
        <field>IS_WINDOWS</field>
      </java>
      <returnvalue type="boolean">true</returnvalue>
    </condition>
    <condition type="java" id="installonlinux">
      <java>
        <class>com.izforge.izpack.util.OsVersion</class>
        <field>IS_LINUX</field>
      </java>
      <returnvalue type="boolean">true</returnvalue>
    </condition>
    <condition type="and" id="standardinstallation.onwindows">
      <condition type="ref" refid="standardinstallation"/>
      <condition type="ref" refid="installonwindows"/>
    </condition>
    <condition type="variable" id="runSeaDAS">
      <name>runSeaDASAfterInstall</name>
      <value>true</value>
    </condition>
  </conditions>


  <!-- pull in the built jar file for our custom panel -->
  <jar src="custom/izpack-panels.jar" stage="both"/>

  <panels>

    <!-- FIXME why doesn't HTMLHelloPanel work any more?  it is nice not to have the "Please read the following information" text ... -->
    <panel classname="HTMLInfoPanel" id="welcome"/>

    <!-- this is our custom panel, loaded from the panels.jar file -->
    <panel classname="com.izforge.izpack.panels.mypanels.MyHelloPanel" id="myHello">
      <configuration>
        <param name="welcome1" value="Welcome to SeaDAS Installation."/>
        <param name="welcome2" value="Enjoy!"/>
      </configuration>
    </panel>


    <panel classname="InstallationTypePanel"/>
    <panel classname="HTMLLicencePanel" id="licence" />
    <panel classname="TargetPanel" id="install_dir"/>
    <panel classname="PacksPanel" id="sdk_pack_select"/>
    <panel classname="InstallPanel" id="install"/>
    <panel classname="ShortcutPanel" id="shortcutSpecLinux.xml"/>
    <panel classname="UserInputPanel" id="userInputPanel4Run"/>
    <panel classname="ProcessPanel" id="processPanel"/>
    <panel classname="FinishPanel" id="finish"/>

  </panels>


  <packs>
    <pack name="snap" preselected="yes" required="yes">
      <description>A common architecture for all Sentinel Toolboxes is being jointly
        developed by Brockmann Consult, SkyWatch and C-S called the Sentinel Application
        Platform (SNAP).

        The SNAP architecture is ideal for Earth Observation processing and analysis due
        to the following technological innovations: Extensibility, Portability, Modular Rich
        Client Platform, Generic EO Data Abstraction, Tiled Memory Management, and a
        Graph Processing Framework.</description>
      <fileset dir="packs/snap" casesensitive="true" os="unix" condition="izpack.linuxinstall">
        <exclude name="bin/*.bat"/>
        <exclude name="bin/*.command"/>
        <exclude name="bin/meris*.*"/>
        <exclude name="bin/aatsr-sst.*"/>
        <exclude name="bin/flhmci.*"/>
      </fileset>
      <fileset dir="packs/snap" override="asktrue" casesensitive="true" os="mac">
        <exclude name="bin/*.bat"/>
        <exclude name="bin/*.sh"/>
        <exclude name="bin/meris*.*"/>
        <exclude name="bin/aatsr-sst.*"/>
        <exclude name="bin/flhmci.*"/>
      </fileset>
      <fileset dir="packs/snap" override="asktrue" casesensitive="true" os="windows">
        <exclude name="bin/*.bat"/>
        <exclude name="bin/*.sh"/>
        <exclude name="bin/meris*.*"/>
        <exclude name="bin/aatsr-sst.*"/>
        <exclude name="bin/flhmci.*"/>
      </fileset>
      <parsable encoding="UTF-8">
        <fileset targetdir="${INSTALL_PATH}/bin">
          <include name="*.sh"/>
          <include name="snap"/>
        </fileset>
        <os family="unix"/>
      </parsable>
      <parsable encoding="UTF-8">
        <fileset targetdir="${INSTALL_PATH}/bin">
          <include name="*.exe"/>
          <include name="snap"/>
        </fileset>
        <os family="windows"/>
      </parsable>
      <parsable encoding="UTF-8">
        <fileset targetdir="${INSTALL_PATH}/bin">
          <include name="*.command"/>
          <include name="snap"/>
        </fileset>
        <os family="mac"/>
      </parsable>
      <executable type="bin" stage="never" failure="warn" keep="true">
        <os family="unix"/>
        <fileset targetdir="$INSTALL_PATH/bin" includes="seadas, snap, *.sh"/>
      </executable>
      <executable type="bin" stage="postinstall" failure="warn" keep="true" condition="runSeaDAS">
        <os family="unix"/>
        <fileset targetdir="$INSTALL_PATH/bin" includes="seadas, snap"/>
      </executable>
      <executable type="bin" stage="never" failure="warn" keep="true">
        <os family="mac"/>
        <fileset targetdir="$INSTALL_PATH/bin" includes="*.command, snap"/>
      </executable>
      <executable type="bin" stage="never" failure="warn" keep="true">
        <os family="windows"/>
        <fileset targetdir="$INSTALL_PATH/bin" includes="*.bat, *.exe"/>
      </executable>
    </pack>
    <pack name="s3tbx" required="yes" preselected="true" id="pack.s3tbx">
      <description>Sentinel 3 Toolbox</description>
      <fileset dir="packs/s3tbx" casesensitive="true" targetdir="$INSTALL_PATH/s3tbx">
      </fileset>
    </pack>
    <pack name="seadas-toolbox" required="yes" preselected="true" id="pack.seadas-toolbox">
      <description>NASA SeaDAS Toolbox</description>
      <fileset dir="packs/seadas-toolbox" casesensitive="true" targetdir="$INSTALL_PATH/seadas-toolbox">
      </fileset>
    </pack>
  </packs>

  <natives>
    <native type="izpack" name="ShellLink.dll"/>
    <native type="izpack" name="ShellLink_x64.dll"/>
    <native type="3rdparty" name="COIOSHelper.dll" stage="both">
      <os family="windows"/>
    </native>
  </natives>

</installation>
